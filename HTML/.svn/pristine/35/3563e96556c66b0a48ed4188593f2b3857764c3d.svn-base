
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id$" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE"> 
<TITLE> PROMPTDFILE() </TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" 
      TOPMARGIN="15" 
      MARGINHEIGHT="15" 
      LEFTMARGIN="15" 
      MARGINWIDTH="15">

<H1>    PROMPTDFILE() </H1>

<H2> Fortran version: </H2>
<PRE>
    INTEGER FUNCTION  PROMPTDFILE( PROMPT, RDONLY, FMTTED, RECLEN, 
   &amp;                               DEFAULT, CALLER )
      CHARACTER*(*), INTENT(IN   ) :: PROMPT         !  prompt for user
      LOGICAL      , INTENT(IN   ) :: RDONLY         !  TRUE iff file is input-only
      LOGICAL      , INTENT(IN   ) :: FMTTED         !  TRUE iff file should be formatted
      INTEGER      , INTENT(IN   ) :: RECLEN         !  record length
      CHARACTER*(*), INTENT(IN   ) :: DEFAULT        !  default logical file name
      CHARACTER*(*), INTENT(IN   ) :: CALLER         !  caller-name for logging messages
</PRE><P> 

<H2> C version:  none </H2>
<P> 

<H2> Summary: </H2>

    <STRONG>
    For interactive use -- not for modeling nor for programs that will
    be driven by scripts!  For modeling or script driven programs, use
    <A HREF="GETDFILE.html"><VAR>GETDFILE()</VAR></A>, instead.
    </STRONG>
    <P>

    Prompts user for logical file name, then opens the Fortran
    direct access file associated with it, for read-only or not, 
    formatted or not, as indicated by RDONLY and FMTTED, and with
    the indicated record length RECLEN.  
    <P> 

    If <A HREF = "ENVIRONMENT.html"> environment variable PROMPTFLAG</A> 
    is set to &quot;N&quot;, returns unit number associated with logical 
    name contained in DEFAULT without prompting the user.  
    <P>

    Logs the value returned, for tracking and validation purposes.
    <P> 
    
    <STRONG>Returns</STRONG> 
      <UL>
          <LI>  unit number for the file opened, or
          <LI>  -1 for failure,
          <LI>  -2 for 'NONE', provided that '&quot;NONE&quot;'
          occurs within the prompt; or 
          <LI>  -3 for  'ALL',  provided that '&quot;ALL&quot;'
           occurs within the prompt.
      </UL>
      <P> 

    For Fortran-90 declarations and interface checking:    
    <PRE>
    <A HREF = "M3UTILIO.html">USE M3UTILIO</A>
    </PRE><P>

    <STRONG>See also</STRONG>:
    <BLOCKQUOTE>
        <A HREF = "GETDFILE.html">GETDFILE()</A>, <BR>
        <A HREF = "GETEFILE.html">GETEFILE()</A>, <BR>
        <A HREF = "PROMPTFFILE.html"> PROMPTFFILE()</A>, and <BR>
        <A HREF = "PROMPTMFILE.html"> PROMPTMFILE()</A>.
    </BLOCKQUOTE>
    <P>

<H2> Preconditions: </H2>

    <CODE>setenv &lt;lname&gt; &lt;pathname&gt; </CODE> for the file
    before program launch.
    <P> 


<H2> Fortran Usage: </H2>

    Suppose you want to open a &quot;foo&quot;-file as direct access 
    read-only formatted, with record length 529, from subroutine MYSUB():
<PRE>
    ...
    USE M3UTILIO
    ...
    INTEGER   FOODEV, BARDEV, QUXDEV
    ...
    FOODEV = PROMPTDFILE( 'Enter name for foo-file', 
   &amp;                      .TRUE., .TRUE., 529,
   &amp;                      'FOO', 'MYSUB' )
    IF ( FOODEV .LT. 0 ) THEN
        ... error opening foo-file:  deal with it
    END IF
    ...
</PRE><P> 


<HR> <!----------------------------------------------------------------->


<A HREF = "POLY.html" >
Previous:  <STRONG>POLY</STRONG>
</A><P> 

<A HREF = "PROMPTFFILE.html" >
Next:  <STRONG>PROMPTFFILE</STRONG>
</A><P> 

<A HREF = "AA.html#utility"> 
Up: <STRONG>Utility Routines</STRONG> 
</A><P>

<A HREF = "wAA.html"> 
To: <STRONG>Models-3/EDSS I/O API:   The Help Pages</STRONG> 
</A><P>

</BODY>
</HTML>

